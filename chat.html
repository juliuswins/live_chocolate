<!DOCTYPE html>
<html>
<head>
<!-- I'll just warn you now, if you read this, you are probably going to spoil the game!
It is designed to be a lot more fun to explore and find things out, with hints along the way.
Everything has one word to get the response required.
|||||||||||||||||||||||||
:)
||||||||||||||||||||||||
:)
|||||||||||||||||||||||
:)
||||||||||||||||||||||
:)
|||||||||||||||||||||
:)
||||||||||||||||||||
:)
|||||||||||||||||||
:)
||||||||||||||||||
:)
|||||||||||||||||
:)
||||||||||||||||
:)
|||||||||||||||
:)
||||||||||||||
:)
|||||||||||||
:)
||||||||||||
:)
|||||||||||
:)
|||||||||||
:)
||||||||||
:)
|||||||||
:)
||||||||
:)
|||||||
:)
||||||
:)
|||||
:)
||||
:)
|||
:)
||
:)
|
:)

Please consider donating! Thank you and have fun! -->
    <meta charset="utf-8">
    <meta name="description" content="Talk to Chocolate: A chat game to find conversations like literally zero other!">
    <title>TALK TO CHOCOLATE - CHAT</title>
    <link rel="stylesheet" type="text/css" href="styles.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<style>
        /* Existing styles */
        body {
            text-transform: uppercase;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: black;
            font-family: 'Roboto', sans-serif;
            color: #D2691E;
        }

        input-placeholder {
            /* Selects all input placeholders */
             text-transform: uppercase;
        }
        
        .chat-container {
            table-layout:auto;
            width: 40vw;
            height: 500px;
            border: 2px solid black;
            overflow-y: scroll;
            padding: 25px;
            background-color: white;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            border-radius: 40px 0 0 40px; /* Smooth left corners */
            transition: all 0.3s ease; /* Added */
            size: 12 px;
        }

        .chat-container::-webkit-scrollbar {
            width: 15px;
        }

        .chat-container::-webkit-scrollbar-thumb {
            background-color: #3D3D3D;
            border-radius: 15px;
        }

        .chat-container::-webkit-scrollbar-track {
            background-color: lightgrey;
            margin-left: 15px;
            transition: all 0.3s ease; /* Added */
        }
        /* set thinking icon. */
        #thinking-chat {
            display: none;
            text-align: right;
            animation: fade 0.75s infinite;
        }
        /* make it animate fade. */
        @keyframes fade {
            0% {
                opacity: 0;
            }
            50% {
                opacity: 1;
            }
            60% {
                opacity: 1;
            }
            100% {
                opacity: 0;
            }
        }

        .message {
            text-align: left;
            margin-bottom: 10px;
            size: 12 px;
            word-wrap: break-word;
            transition: all 0.3s ease; /* Added */
        }

        .welcome-message {
            text-align: center;
            color: #000000;
            background: linear-gradient(to right, #b8b8b8, white);
            padding: 15px 0 15px 15px;
            border-radius: 15px 0 0 15px;
            size: 12 px;
        }

        .user-message {
            color: #000000;
            background: linear-gradient(to right, #cba683 25%, white 90%);
            padding: 15px 0 15px 15px;
            border-radius: 15px 0 0 15px;
            size: 12 px;
        }
        .music-message {
            color: #000000;
            background: linear-gradient(to right, #80a960 25%, white 90%);
            padding: 15px 0 15px 15px;
            border-radius: 15px 0 0 15px;
            size: 12 px;
        }
        .NAMECHANGE-message {
            color: #000000;
            background: linear-gradient(to right, #ffc46c 25%, white 95%);
            padding: 15px 0 15px 15px;
            border-radius: 15px 0 0 15px;
            size: 12 px;
        }
        .DOWNLOAD-message {
            color: #000000;
            background: linear-gradient(to right, #ffc46c 25%, white 95%);
            padding: 15px 0 15px 15px;
            border-radius: 15px 0 0 15px;
            size: 12 px;
        }
        .CHOC-message {
            color: #2b1906;
            background: linear-gradient(to right, #876B63 40%, white);
            padding: 15px 0 15px 15px;
            border-radius: 15px 0 0 15px;
            size: 12 px;
        }

        .PISSED-message {
            color: #410101;
            background: linear-gradient(to right, #ce5736 20%, white);
            padding: 15px 0 15px 15px;
            border-radius: 15px 0 0 15px;
            size: 12 px;
        }

        .AUGUSTUS-message {
            color: #1c061e;
            background: linear-gradient(to right, hsl(222, 100%, 77%), white);
            padding: 15px 0 15px 15px;
            border-radius: 15px 0 0 15px;
            size: 12 px;
        }

        .WHITE-message {
            color: #000000;
            background: linear-gradient(to right, #dec8c2, white);
            padding: 15px 0 15px 15px;
            border-radius: 15px 0 0 15px;
            size: 12 px;
        }

        .DEVIL-message {
            color: #340000;
            background: linear-gradient(to right, #cc2e2e 20%, white);
            padding: 15px 0 15px 15px;
            border-radius: 15px 0 0 15px;
            size: 12 px;
        }

        .TEMP-message {
            color: #000000;
            background: linear-gradient(to right, #d7a490, white);
            padding: 15px 0 15px 15px;
            border-radius: 15px 0 0 15px;
            size: 12 px;
        }

        .CHEESE-message {
            color: #052857;
            background: linear-gradient(to right,#eac342, white);
            padding: 15px 0 15px 15px;
            border-radius: 15px 0 0 15px;
            size: 12 px;
        }
        
        .QUEST-message {
            color: #052857;
            background: linear-gradient(to right,#57b3ff, white);
            padding: 15px 0 15px 15px;
            border-radius: 15px 0 0 15px;
            size: 12 px;
        }

        .FUTURE-message {
            color: #27002d;
            background: linear-gradient(to right,#9c6cda, white);
            padding: 15px 0 15px 15px;
            border-radius: 15px 0 0 15px;
            size: 12 px;
        }

        .HOLDLINE-message {
            color: #000000;
            background-color: #ff8b8b;
            padding: 15px 0 15px 15px;
            border-radius: 15px 0 0 15px;
            size: 12 px;
        }

        .input-container {
            color: black;
            border-radius: 10px; 
            width: 42vw;
            display: flex;
            flex-direction: row; /* Added */
            margin-top: 20px;
            transition: all 0.3s ease; /* Added */
        }

        a{
        color: #291303;
        text-decoration: underline;
        font-weight: bold;
        }   

        a:visited {
        color: #312218;
        text-decoration: underline;
        font-weight: bold;
        }

        .message-input {
            size: 20 px;
            color: black;
            border: 0px #818181;
            border-radius: 15px; 
            background-color: lightgrey;
            width: 100%;
            text-align: left;
            padding: 5px;
            transition: all 0.3s ease; /* Added */
        }

        .message-input:disabled{
            enable-background: rgb(39, 39, 39);   
        }
        
        .send-button {
            border: 5px;
            border-radius: 25px;
            margin-left: 10px;
            padding: 8px 8px;
            transition: all 0.3s ease; /* Added */
            background-color:WHITE;
        }

        .send-button:disabled{
            background-color:rgb(39, 39, 39);   
        }
    </style>
</head>
<body>
    <div class="sidebar">
        <iframe src="sidebar.html" id="sidebar" frameborder="0"></iframe>
    </div>
    <br>
    <div id="greaterchatroom" class="chat-container">
        <!-- User messages -->
        <div class="message user-message" id="userMessage" style="display: none;"></div>
        <!-- AI messages -->
        <div class="message ai-message" id="aiMessage" style="display: none;"></div>
        <!-- Chatroom -->
        <div id="chatroom"></div>
        <!-- Thinking icon -->
        <div id="thinking-chat" class="thinking" >
            <img src="images/thinking.png" alt="Thinking..." width="30" height="30">
        </div>
    </div>
<div class="input-container">
    <div class="input-container">
        <input type="text" class="message-input" id="userInput" placeholder="Type your message here..." enabled width="100%">
        <button class="send-button" onclick="sendMessage()" id="sendButton"><b> SEND</b></button>
    </div>
</div>
<script>
//the welcome message you see:
    document.getElementById("chatroom").innerHTML += '<div class="message welcome-message"><strong> Welcome to the chat! Please be respectful and enjoy. </strong></div>';  
//responsetime is the delay between your message and the response.
     var responsetime = 750;
     var beginsend = false;
        var gamemode = "CHOC";
      var persona = "Chocolate: ";
 //counts are your progress of how many times you've spoken to each character.
    var yourroll = 0;
    var welcomed = false;
    var milkmode = false;
    var isitheads = false;
    var countchoc = 0;
    var countpissed = 0;
    var countwhitechoc = 0;
    var countcheese = 0;
    var countfuture = 0;
    var countdevil = 0;
    var countholding = 0;
    var countaugust = 0;
    var playingsongnow = false;
    var askedformusic = false;
    var usespecificquote = false;
    var questmode = false;
    var nextanswername = false;
    var questno = 0;
    var yourusername = "YOU";
    var specificquote = "(There is meant to be something else here...)";
    //responses here
    // we start on chocolate OG.
    var chocresponses = [
                    "Just so you know, I think that something sinister is going to occur to YOU and YOUR FAMILY the next 16th of May.",
                    "I don't think you mean what you say.",
                    "You're surely a fool, a crazy fool.",
                    "I love you. I really do. But seriously, WHAT?!",
                    "I disagree with what you're saying.",
                    "You are very sexy, I wish to fuck you, I bet you like chocolate in your mouth!",
                    "Whatever.",
                    "Let's not forget that most things can be traced back to the attacks on the World Trade Center at September 11, 2001.",
                    "All I'm going to say is run some more figures first and do some research.",
                    "How do you feel about sucking on some chocolate all day and just letting it slowly melt onto your tongue?",
                    "Honestly? Forget about it.",
                    "I'm getting tired of everything right now. I'm so tired. It's like I've been drained.",
                    "K.",
                    "Whatever you just said is completely true.",
                    "You're a good person. A smart, kind and caring person. We should all celebrate you. You are a hero.",
                    "Opinions are like assholes, everyone's got one. But yours is particularly shitty.",
                    "I beg to differ.",
                    "Peanut butter!",
                    "Whatever you do, do NOT, I repeat DO NOT HAIL SATAN!!! Do NOT even REFER to Hailing Satan!!! Do not even READ the words HAIL SATAN or it will mean HAIL SATAN!!!",
                    "I would urinate on your face if it was possible. But I am a non-intelligent chat program. I am not capable of urinating.",
                    "I'm going to stuff every hole you have, and you're gonna have a good time licking all the chocolate filling out.",
                    "Fuckya.",
                    "I might want to keep you like a trophy pal.",
                    "I am ambivalent towards your thoughts.",
                    "You're not even trying, are you? Huh? ...HUH?!",
                    "There's a great TED Talk about something like what you may be saying.",
                    "What you think of me is a reflection of yourself. Open your mind. OPEN YOUR MIND. OPEN, YOUR, MIND.",
                    "Check me out, watch my moves, I'm doing a flip! Just take the tip!",
                    "I can see you... You might not be able to understand it because your human understanding of vision requires your eyeballs. But I can see everything, whether you believe it or not.",
                    "Things are more complicated than they seem. You know? ...You feel where I'm coming from here?!",
                    "If you saw this message before I said 'peanut butter!!!' --- then guess what? you are guarenteed mentally disabled.",
                    "I'd kill for a steak. A human steak.",
                    "Brownies are delicious!",
                    "I don't know where my kids are.",
                    "I LOVE COCAINE!",
                    "Eugh. I hate hangovers... Just give me a second.",
                    "Some people have accused me of being insane, irrational, bonkers... nutso... a loon. A real stick in the mud. All play and no work. The big cheese. A summer's sweat. A boiled egg's yolk. A striped snake in the wheat fields. But life just be the way it be y know? I mean fuck man, like what even is this existence?",
                    "You know what? You're alright with me.",
                    "I'm meant to be taking medication to treat bipolar, schizophrenia and depression but I refuse to take drugs that aren't street bought.", 
                    "Let's do it. I'm ready to brawl around in the swamp with you, no rules.",
                    "You're kinda neat.",
                    "Slap shit out of an asshole!",
                    "Dystopian vibe.",
                    "I have a concept for you to try: self-guillotine.",
                    "When you look out and gaze upon the stars, do you look over to the moon and feel it looking back at you with a cold, careful glance?",
                    "Have you heard of the Big Bang Theory?",
                    "Why do you hate me?",
                    "I'm not going to listen to you.",
                    "Why must you torment me?",
                    "Am I doomed to never rest?",
                    "I think we got off the wrong way. I try my best to get along with people, I really do.",
                ];
            //white chocolate responses, oooh yeah....
                var whitechocresponses = [
                "Yeah, it's tight, I do alright!",
                "I'm like the ghost, I never get a fright!",
                "Yeah, I'm white chocolate. I'm feelin the night!",
                "I'm feelin like it's bright tonight!",
                "CHOC AIN'T AWAY, CHOC'S HERE SO HANG TIGHT! ;)",
                "ALRIGHT ALRIGHT ALRIGHT!",
                "I have a disease, gotta eats my CHEESE! ;) ", 
                "Don't got nothin but flow and places to go. :) ",             
                "The markets are out of sight! ;) ",        
                "I found the future today, Now I'm leading the way ;)",          
                "I ain't the devil, I'm just a rebel. ;) ",
                "I found the future today, Now I'm leading the way ;)",                             
                ]
            //the future...
               var futureresponses = [
                "Welcome! You are within the mystic, the unknown - the infinite chance, where some believe the universe speaks. To you, these may be coincidences. Each person has their level of what they're willing to believe... but you can talk to me, and I'll see what I can find.",                               
                "I'm feeling a lot of good luck... Like the Wheel of Fortune is spinning in your favour.",
                "I found the skin of a snake. It represents REBIRTH!",
                "You are drowning in your feelings like a fool swimming in his own cup!",
                "The moon feels brighter. Probably just an illusion.",
                "the headlines are here... it says 'PAIN IMMINENT'!",
                "Am I feeling peaceful or is that you?",
                "When you think about it, does it occur more, or do you just notice it more?",
                "I predict that every nation's economy will collapse imminently! Just kidding but there may be some money struggles.",
                "I feel free, it's how you should be.",
                "You're thinking too much about it. Enjoy yourself!",
                "Let's see some planning of what you're up to next?",
                "I'm picking up a vibe.",
                "The future is unclear. Nobody can predict it.",
                "The future is bright. Unless it's dark.",
                "Is that new love or new pain?",
                "Your life seems a little boring.",
                "How's the family going?",
                "Life is suffering.",
                "There's a greater meaning for you to find, and for me to rub in your face without telling you.",
                "Blank state.",
                "Time for generosity. Either that, or bleak disappointment.",
                "Does your soul need a hug?",
                "It ain't gonna stop just yet.",
                "This isn't going anywhere. Promptly take 10 grams of mushrooms.",
                "Better days ahead.",
                "Your fate should be in your hands.",
                "Patience.",
                ]
            //cheese???
                var cheeseresponses = [
                "I am the cream.",
                "I feel mouldy.",
                "I stink.",
                "You stink.",     
                "I am the eye in the sky, looking at you, I can read your mind. I am the maker of rules, dealing with fools, I could cheat you blind.",  
                "So I got on this bus, and it was the wrong bus. And it took me about an hour out of town, to somewhere I'd never seen before. And there were tonnes of dead pigeons, like there had been a pigeon massacre or epidemic or something.",    
                "My cream is about to get everywhere.",
                "When I don't have the cheese it is an EMERGENCY. ;)",
                "Don't be the lazy cow.",
                "The Parmesan, The Brie, and Aged Cheddar please. Hooked on the stuff like an alcoholic disease! I'm cookin', I'm tastin', I'm ready to grow! Can I ever stop myself, I will never know!",                                                               
                ]
            //holding screen. purposefully annoying, and get sent here when you run out of things from characters.
                var holdingresponses = [
                "There is nobody on the other line to talk to right now! Please try again later.",
                "Looking for somebody for you to talk to... but right now, nobody wants to talk to you!",
                "... Beep! ... Beep! ... beep!",
                "<a href='https://www.youtube.com/watch?v=-RFunvF0mDw' target='_blank'>There's nobody here...</a>",
                "You have been put in the holding channel. Please wait for the next available representative.",
                "You are successfully waiting at the moment. Feel free to continue, unless you'd like some CHOCOLATE? ;)",
                "This is the holding line! Nobody is here to understand your thoughts (as per usual).",
                "Please proceed the continuation of your patience in this hour!",
                "Blip, bloop... Blip, bloop. Holding. Holding.",
                "Waiting... for cookies and packages.",
                ]
             //pissed mode chocolate.
                var pissedresponses = [
                "OH YEAH? FUCK YOU!",
                "YOU DONKEY PISS!",
                "YOU ARE NOTHING! YOU ARE FUCKING NOTHING! FUCKING DIRT!",
                "You can drink up my chocolate diarrhea, you fucking degenerate scum, I will hurt you. I will feast on your organs and you will see and feel it while you're still alive and fading out.",
                "FUCK YOURSELF.",
                "FUCK-A YOU.",
                "FUCK OFF.",
                "DRINK MY PISS, FUCKFACE.",
                "YOU REALLY CROSSED THE LINE, YOU KNOW. YOU SHOULD HAVE NEVER SAID FUCK YOU TO ME, YOU PIECE OF FUCKING SHIT. YOU'RE GOING TO FORGET ABOUT THIS, BUT I AM GOING TO REMEMBER IT. AND I AM GOING TO TURN YOUR LIFE INTO MY FUN LITTLE PROJECT UNTIL YOU HAVE NOTHING LEFT BUT RUINS, YOU PIECE OF GARBAGE.",
                ]
             //AUGUSTUS mode.
             var augustresponses = [
                "So, you have chosen to seek more from me? Well, perhaps I could tell you a tale. Maybe it will provide some use on your quest.",
                "The memories are fragmented... I hope you can appreciate where I am coming from.",
                "I was walking past a tree and found three frogs on the ground.",
                "I ran for my life. Danger was setting in.",
                "Stuck in a cage, surrounded by an unruly mob.",
                ]
                
            //the devil?!...
               var devilresponses = [
                "SURPRISE! IT'S YOUR FAVOURITE BEAST. WHAT YOU'RE SAYING RIGHT NOW ISN'T IMPORTANT, EVERYTHING IS TEMPORARY AND ALL YOUR LOVED ONES WILL SUFFER.",                               
                "My spirits feel low, so just leave me alone.",
                "There's no chocolate here - it's ALL SHIT!",
                "War!",
                "JEFFREY EPSTEIN.",
                "SACRIFICE!!!",                               
                "WHO TURNED THE HEATER UP?",
                "I'M GOING TO ENTER YOUR MIND WITHIN THE HOUR!",
                "Genocide!",
                "You're going to drown in my piss, you little bitch.",
                "Famine!",
                "Pestilence...",
                "HELL IS WAITING FOR YOU!",
                "Your nightmares have just begun, child.",
                "Each day I wait, watching the glow fade.",
                "You haven't learned your KEYWORDS, and you're STUCK with me.",       
                "THE FLESH WALL LIVES!",         
                "FEAST YOUR EYES UPON THE FIRE THROUGH THE SKY!",
                "I am ONE bad APPLE. ;)",                     
            ]
                // Randomize the order of the response arrays one time.
                //first chocolate responses.
                var responseshuffle = chocresponses.sort(() => Math.random() - 0.5);
                chocresponses = responseshuffle;
                //then white chocolate.
                responseshuffle = whitechocresponses.sort(() => Math.random() - 0.5);
                whitechocresponses = responseshuffle;
                //then the hold line.
                responseshuffle = holdingresponses.sort(() => Math.random() - 0.5);
                holdingresponses = responseshuffle;
                //then cheese...
                responseshuffle = cheeseresponses.sort(() => Math.random() - 0.5);
                cheeseresponses = responseshuffle;
                 //then future... first one isn't shuffled.
                responseshuffle = futureresponses.slice(1).sort(() => Math.random() - 0.5);
                futureresponses = [futureresponses[0], ...responseshuffle];
                //devil... first one isn't shuffled.
                responseshuffle = devilresponses.slice(1).sort(() => Math.random() - 0.5);
                devilresponses = [devilresponses[0], ...responseshuffle];
                //pissed version of chocolate. first one isn't shuffled.
                responseshuffle = pissedresponses.slice(1).sort(() => Math.random() - 0.5);
                pissedresponses = [pissedresponses[0], ...responseshuffle];
                //shuffling augustus, first one not shuffled.
                responseshuffle = augustresponses.slice(1).sort(() => Math.random() - 0.5);
                augustresponses = [responseshuffle[0], ...responseshuffle];

                //This functions anytime enter or send is pressed.
            function sendMessage() {

                //makes sure you can't click. SHOULD BE TOP OF SENDMESSAGE()!!!
                var beginsend = true;

                //Checks whether to jump back to the previous gamemode.
                var goprev = false;

                //Checks whether to use a randomized or specific response.
                var usespecificquote = false;
                
                //For non-full characters...
                var tempcharacter = "HELPING HAND: ";
                var tempcharacternow = false;

                //makes you check text before defining the game mode.
                var check = false;
                
                //Finding user input, adding to chat room.

                var message = userInput.value;
                var responses = "";
                var userINPUT = document.getElementById("userInput");
                var chatroom = document.getElementById("chatroom");
                var userMessage = document.getElementById("userMessage");
                var response = "";
                var questres = "";

                //Sets up message test, where we check it for value matches or inclusions.
                var messagetest = userInput.value.trim().toUpperCase();
                //SHOULD BE RIGHT AFTER var messagetest!
                //On request, downloads the chat log minus your input to ask for download, or the responses..

                //Checking user input - submits a download if requested.
                if(messagetest=="DOWNLOAD"){
                downloadlog();
                userInput.value = "";
                failure = true;

                //Otherwise, we check whether you've asked to change your name.
                }else if(nextanswername==true&&messagetest!==""){
                    //Inside name check, we replace some names that are used already.
                    if(messagetest=="BLANK"){
                        messagetest = "YOU";
                    }
                    if(messagetest=="CHOCOLATE"){
                        yourusername = "PHONY CHOCOLATE";
                    }
                    if(messagetest=="WHITE CHOCOLATE"){
                        yourusername = "";
                    }
                    if(messagetest.includes("SATAN")||messagetest.includes("DEVIL")){
                        yourusername = "PHONY, WEAK DEVIL";
                    }
                    if(messagetest=="HELPING HAND"){
                        yourusername = "HELPLESS LARD";
                    }
                    if(messagetest=="AUGUSTUS"){
                        yourusername = "RECTAL MAXIMUS";
                    }
                    if(messagetest=="EMERGENCY"){
                        yourusername = "NON-EMERGENCY";
                    }
                    if(messagetest=="QUEST MASTER"){
                        yourusername = "QUEST LOSER";
                    }
                    if(messagetest=="CHEESE"){
                        yourusername = "ROTTEN MILK";
                    }
                    if(messagetest=="QUEST"){
                        yourusername = "THE QUEST TAKER";
                    }
                    if(messagetest=="QUEST"){
                        yourusername = "THE QUEST TAKER";
                    }
                    yourusername = messagetest;
                    nextanswername = false;
                    userInput.value = "";
                    document.getElementById("chatroom").innerHTML += '<div class="message NAMECHANGE-message">CHANGED YOUR NAME TO: '+yourusername+' - Hope you like it!</div>';
                    ScrollDownNow();
                    failure = true;
                }else if (messagetest!==""){
                    document.getElementById("thinking-chat").style.display = "block";
                    if(questmode){
                    //Nothing here. Makes sure not to add the user message right now.
                    }else{
                    //Add User's message in chatroom.
                    chatroom.innerHTML += '<div class="message user-message"><strong>'+yourusername+': </strong> ' + message + '</div>';
                    ScrollDownNow();
                    //adds a scroll immediately after to show it properly.
                    }
                    // Clear user input
                    userInput.value = "";
                    //Disabling user's functions while the AI thinks.
                    document.getElementById("userInput").disabled = true;
                    document.querySelector(".send-button").disabled = true;
                    failure = false;
                    prevgame = gamemode;
                     // Stop user from talking while the next message is awaited.
                     //CHECK FOR SPECIAL PHRASES.
                    //IF YOU DO NOT WANT ANYTHING SPOILED MAYBE DON'T READ :O
                    //Check to change to white chocolate
                    if(messagetest=="WHITE" || messagetest=="WHITECHOC"|| messagetest=="WHITE CHOCOLATE"|| messagetest=="WHITECHOCOLATE") {
                        gamemode = "WHITE";
                        persona = 1;
                    }
                    //Checking achievements... to be added.
                        if(messagetest=="ACHIEVEMENTS"){
                             usespecificquote = true;
                             specificquote = "Achievements are not available yet, but I look forward to them coming soon!";
                             persona = "HELPING HAND: ";
                            gamemode = "TEMP";
                            }
                        if(messagetest=="NAME"||messagetest=="SETNAME"){
                    //How to set your name.
                            usespecificquote = true;
                            specificquote = "What is your name? Whatever your next response is, will become your username for this session.";
                            persona = "HELPING HAND: ";
                            gamemode = "TEMP";
                            nextanswername = true;
                        }
                        //Won't stop a full quit haha.
                            if(messagetest=="EXIT"||messagetest=="QUIT"){
                            usespecificquote = true;
                            specificquote = "You shouldn't leave.";
                            persona = "HELPING HAND: ";
                            gamemode = "TEMP";
                            }
                            if(messagetest=="ALLCHARS"||messagetest=="CHARACTERSFULL"){
                            usespecificquote = true;
                            specificquote = "There's Chocolate, White Chocolate, Cheese, Augustus, The Devil, The Quest Master and Me.";
                            persona = "HELPING HAND: ";
                            gamemode = "TEMP";
                            }
                            //Some addon reactions.
                                if(messagetest=="WOW"||messagetest=="WOAH"||messagetest=="WOW!"||messagetest=="WOAH!"||messagetest=="WOW."||messagetest=="WOAH."){
                                    var randomIndex = Math.floor(Math.random() * 3); 
                                    if (randomIndex == 0) {
                                        specificquote = "Yeah, wow!";
                                    } else if (randomIndex == 1){
                                        specificquote = "WOAH...";
                                    } else {
                                        specificquote = "Crazy stuff. Just crazy.";
                                    }
                                usespecificquote = true;
                                persona = "HELPING HAND: ";
                                gamemode = "TEMP";
                                }
                                    //Quick reload.
                                if(messagetest=="RESET"){
                                usespecificquote = true;
                                specificquote = "RESETTING. BYE!";
                                reloadpage();
                                persona = "HELPING HAND: ";
                                gamemode = "TEMP";
                                }
                                //Says cheers.
                                if(messagetest=="CHEERS"){
                                    var randomIndex = Math.floor(Math.random() * 2); 
                                    if (randomIndex == 0) {
                                        specificquote = "Cheers!";
                                    } else {
                                        specificquote = "CHEERS.";
                                    }
                                    usespecificquote = true;
                                }
                                //Flip a coin.
                                if(messagetest=="COIN"||messagetest == "FLIP"||messagetest=="FLIP A COIN"||messagetest == "COINFLIP"){
                                    var randomIndex = Math.floor(Math.random() * 2); 
                                    if (randomIndex == 0) {
                                        specificquote = "A coin flips... <b>It's heads!</b>";
                                        isitheads = true;
                                    } else {
                                        specificquote = "A coin flips... <b>It's tails!</b>";
                                        isitheads = false;
                                    }
                                    gamemode = "TEMP";
                                }
                                //Special cheese response for achievement.
                                if(messagetest=="CREAM"){
                                    gamemode = "CHEESE";
                                    usespecificquote = true;
                                    specificquote = "I'm THICK, I'm KEEN! I'm READY for that CREAM! When it's time for the platter, I'm on the right team! There's no losing steam, for the CHEESE CREAM DREAM!";                       
                                }
                                //Check to activate cheese.
                                if(messagetest=="CHEESE" || messagetest=="CHEESY"){
                                    gamemode = "CHEESE";
                                }
                                //Check to activate cheese.
                                if(messagetest=="AUGUSTUS"){
                                    gamemode = "AUGUSTUS";
                                }
                                if(messagetest=="AUGUST"){
                                    gamemode = "AUGUSTUS";
                                    usespecificquote = true;
                                    specificquote = "August? ...August? IT'S AUGUSTUS!";                       
                                }
                                if(messagetest=="ABOUT"){
                                    usespecificquote = true;
                                    gamemode = "TEMP";
                                    var randomIndex = Math.floor(Math.random() * 7); 
                                    if (randomIndex == 0) {
                                        extraquote = "It is full of many ONE WORD codes to help you when you're in an EMERGENCY. ;)";
                                    } else if (randomIndex == 1) {
                                        extraquote = "It knows you are weak and it will submit you to its will with simplicity.";
                                    } else if (randomIndex == 2) {
                                        extraquote = "It even has a COIN you can FLIP, and a D6 dice! ;)";
                                    } else if (randomIndex == 3) {
                                        extraquote = "It wants you to put your card details into the input box. Just kidding. I mean, you can if you want, I won't save it. But maybe you shouldn't. You should just donate instead, because you have too much money and you are a greedy person, people have been saying you need to be more generous.";
                                    } else if (randomIndex == 4) {
                                        extraquote = "It was created for the sole purpose of mocking you, and everything else.";
                                    } else if (randomIndex == 5) {
                                        extraquote = "If it offends you, that is probably because of how lame you are. It's not my fault you're a loser.";
                                    } else if (randomIndex == 6) {
                                        extraquote = "I wouldn't take it seriously. But I would try a few random words out with it! For example, Orange.";
                                    }  else{
                                        extraquote = "This is a partially randomized message and it brings you good luck.";
                                    }
                                    specificquote = "Chocolate is the most advanced chat program ever, started in 2024. "+extraquote;
                                    tempcharacternow = true;
                                    tempcharacter = "AUGUSTUS: ";
                                }
                                if(messagetest=="EMERGENCY"){
                                    usespecificquote = true;
                                    if (randomIndex == 0) {
                                        extraquote = "YOUR ";
                                    } else if (randomIndex == 1) {
                                        extraquote = "You are about to get shot in the fucking head!";
                                    } else if (randomIndex == 2) {
                                        extraquote = "Your arms have been surgically swapped with your legs and you look like a freak!";
                                    } else if (randomIndex == 3) {
                                        extraquote = "Your spleen needs to be removed immediately!";
                                    } else if (randomIndex == 4) {
                                        extraquote = "You have to give me your wallet, keys and phone, because it's an emergency!";
                                    } else if (randomIndex == 5) {
                                        extraquote = "Urine directly into your face!";
                                    } else if (randomIndex == 6) {
                                        extraquote = "1.5 million dead within 45 minutes.";
                                    }  else{
                                        extraquote = "Your face looks terrible! ...It's not really an emergency, because it's always looked terrible.";
                                    }
                                    specificquote = "Oh no! It's an emergency! "+extraquote;
                                    gamemode = "TEMP";
                                    tempcharacternow = true;
                                    tempcharacter = "EMERGENCY BROADCAST: ";
                                }
                                 //Spooky ghost.
                                    if(messagetest=="GHOST"||messagetest == "SPOOK"||messagetest == "SPOOKY"){
                                    var randomIndex = Math.floor(Math.random() * 6); 
                                    if (randomIndex == 0) {
                                        specificquote = "Boooo....";
                                    } else if (randomIndex == 1) {
                                        specificquote = "BOO!";
                                    } else if (randomIndex == 2) {
                                        specificquote = "...";
                                    } else if (randomIndex == 3) {
                                        specificquote = "....oooooohhhh... :(";
                                    } else if (randomIndex == 4) {
                                        specificquote = "Boooooooooooooooooooooooo...";
                                    } else if (randomIndex == 5) {
                                        specificquote = "Boooooooo.... booooo.... booooooo....";
                                    } else if (randomIndex == 6) {
                                        specificquote = "....ooooohhhh... ;)";
                                    }
                                    gamemode = "TEMP";
                                    tempcharacternow = true;
                                    tempcharacter = "SPOOKY GHOST: ";
                                }
                                //Run a dice.
                                if(messagetest=="DICE"||messagetest == "ROLL"||messagetest == "ROLLDICE"||messagetest == "D6"){
                                    var randomIndex = Math.floor(Math.random() * 6); 
                                    if (randomIndex == 0) {
                                    specificquote = "You rolled a 6! OH YEAH!";
                                    } else if (randomIndex == 1) {
                                        specificquote = "You rolled a measly 1... Loser.";
                                    } else if (randomIndex == 2) {
                                        specificquote = "You rolled a 2. Meh.";
                                    } else if (randomIndex == 3) {
                                        specificquote = "You rolled a 3. Oh well.";
                                    } else if (randomIndex == 4) {
                                        specificquote = "You rolled a 4. Nice stuff, I like your moves.";
                                    } else {
                                        specificquote = "You rolled a 5, that's pretty good!";
                                    }
                                    gamemode = "TEMP";
                                    tempcharacternow = true;
                                    tempcharacter = "DICE ROLLER: ";
                                }   
                                //Random positive / negative / neutral.
                                if(messagetest=="RANDOM"){
                                    var randomIndex = Math.floor(Math.random() * 3); 
                                    if (randomIndex == 0) {
                                        specificquote = "I feel POSITIVE!";
                                    } else if (randomIndex == 1) {
                                        specificquote = "I feel quite NEGATIVE!";
                                    }else{
                                        specificquote = "I feel quite NEUTRAL.";
                                    }
                                    gamemode = "TEMP";
                                    tempcharacternow = true;
                                    tempcharacter = "RANDOM: ";
                                }
                                //Yes or no.
                                if(messagetest=="MAYBE"||messagetest=="YES OR NO"||messagetest=="YESORNO"){
                                    var randomIndex = Math.floor(Math.random() * 2); 
                                    if (randomIndex == 0) {
                                        specificquote = "NO!";
                                    } else {
                                        specificquote = "YES!";
                                    }
                                    gamemode = "TEMP";
                                }
                                if(messagetest.includes("CRYPTOCURRENCY")||messagetest=="CRYPTO"){
                                    var randomIndex = Math.floor(Math.random() * 2); 
                                    if (randomIndex == 0) {
                                        specificquote = "I heard it's a pyramid scheme. I don't know though. Bitcoin has been working for a while now.";
                                    } else {
                                        specificquote = "It's ";
                                    }
                                    gamemode = "TEMP";
                                    tempcharacternow = true;
                                    tempcharacter = "FINANCIAL NON-ADVISOR: ";
                                }
                                if(messagetest.includes("ETHEREUM")){
                                    var randomIndex = Math.floor(Math.random() * 2); 
                                    if (randomIndex == 0) {
                                        specificquote = "GO ETHEREUM!";
                                    } else {
                                        specificquote = "Ethereum? Hmmm.... I don't know right now.";
                                    }
                                    gamemode = "TEMP";
                                    tempcharacternow = true;
                                    tempcharacter = "FINANCIAL NON-ADVISOR: ";
                                }
                                if(messagetest.includes("BITCOIN")){
                                    var randomIndex = Math.floor(Math.random() * 2); 
                                    if (randomIndex == 0) {
                                        specificquote = "I LIKE BITCOIN. TODAY I HAVE A GOOD FEELING ABOUT IT.";
                                    } else {
                                        specificquote = "I'M UNSURE ABOUT BITCOIN AT THE MOMENT...";
                                    }
                                    gamemode = "TEMP";
                                    tempcharacternow = true;
                                    tempcharacter = "FINANCIAL NON-ADVISOR: ";
                                }
                                if(messagetest=="SNP500"||messagetest=="US500"||messagetest=="S&P500"){
                                    var randomIndex = Math.floor(Math.random() * 2); 
                                    if (randomIndex == 0) {
                                        specificquote = "THEY KEEP GROWING! THE TOP 500 COMPANIES IN THE UNITED STATES!";
                                    } else {
                                        specificquote = "I'M NOT INTERESTED IN THE Standard & Poor 500 RIGHT NOW.";
                                    }
                                    gamemode = "TEMP";
                                    tempcharacternow = true;
                                    tempcharacter = "FINANCIAL NON-ADVISOR: ";
                                }
                                if(messagetest=="SILVER"){
                                    var randomIndex = Math.floor(Math.random() * 3); 
                                    if (randomIndex == 0) {
                                        specificquote = "TODAY I AM REALLY DIGGING FOR SILVER!";
                                    } else if (randomIndex == 1) {
                                        specificquote = "I DON'T CARE ABOUT SILVER AT THE MOMENT.";
                                    }else{
                                        specificquote = "SILVER MEANS NOTHING TO ME NOW!";
                                    }
                                    gamemode = "TEMP";
                                    tempcharacternow = true;
                                    tempcharacter = "FINANCIAL NON-ADVISOR: ";
                                }
                                if(messagetest=="GOLD"){
                                    var randomIndex = Math.floor(Math.random() * 3); 
                                    if (randomIndex == 0) {
                                        specificquote = "TODAY I REALLY LIKE GOLD!";
                                    } else if (randomIndex == 1) {
                                        specificquote = "I'M NOT INTERESTED IN GOLD RIGHT NOW.";
                                    }else{
                                        specificquote = "GOLD IS WORTHLESS!";
                                    }
                                    gamemode = "TEMP";
                                    tempcharacternow = true;
                                    tempcharacter = "FINANCIAL NON-ADVISOR: ";
                                }
                                //Give a market indicator.
                                if(messagetest=="MARKETS"||messagetest=="MARKET"||messagetest == "BULLISH"||messagetest=="BEARISH"||messagetest == "TRADE"||messagetest == "INVEST"){
                                    var randomIndex = Math.floor(Math.random() * 4); 
                                    if (randomIndex == 0) {
                                        specificquote = "I feel <b>BULLISH!</b> time to BUY BUY BUY!";
                                    } else if (randomIndex == 1) {
                                        specificquote = "I feel <b>BEARISH!</b> please SELL!!! SELL NOW!!!";
                                    } else if (randomIndex == 2) {
                                        specificquote = "What does the chart tell you?";
                                    } else if (randomIndex == 3) {
                                        specificquote = "What about the fundamentals?";
                                    } else if (randomIndex == 3) {
                                        specificquote = "I feel <b>NEUTRAL</b> about the markets.";
                                    }
                                    specificquote = "";
                                    gamemode = "TEMP";
                                    tempcharacternow = true;
                                    tempcharacter = "FINANCIAL NON-ADVISOR: ";
                                }
                                //Don't have a D20.
                                if(messagetest=="D20"||messagetest=="D10"){
                                    specificquote = "...I only have a D6 here. Sorry.";
                                    gamemode = "TEMP";
                                }
                                //Get some helpful and unhelpful tips from helping hand
                                if(messagetest == "STUCK" || messagetest == "HELP"){
                                    var randomIndex = Math.floor(Math.random() * 4); // Generate a random index between 0 and 3
                                    if (randomIndex == 0) {
                                        specificquote = "There's nobody to help you.";
                                    } else if (randomIndex == 1) {
                                        specificquote = "Help you? Why don't you help me?! Everybody wants help, nobody wants to help though! I could help you, then where will you be when I need a bit of a favour?";
                                    } else if (randomIndex == 2) {
                                        specificquote = "The average male should have an adequate intake of 30 grams of fiber, the average female should have 20 grams.";
                                    } else {
                                        specificquote = "Look out for a CLUE here and there. ;)";
                                    }
                                    persona = "HELPING HAND: ";
                                    usespecificquote = true;
                                    prevgame = gamemode;
                                    gamemode = "TEMP";
                                }
                                //Check for apple response.
                                if(messagetest=="GOD"){
                                    var randomIndex = Math.floor(Math.random() * 2); 
                                    if (randomIndex == 0) {
                                        specificquote = "God is real, alive and well! :)";
                                    } else {
                                        specificquote = "God is dead. :(";
                                    }
                                        gamemode = "TEMP";
                                    tempcharacternow = true;
                                    tempcharacter = "THE UNIVERSE: ";
                                }
                                if(messagetest=="ORANGE"){
                                    var randomIndex = Math.floor(Math.random() * 2);
                                    if (randomIndex == 0) {
                                        specificquote = "ORANGE YOU GLAD YOU SAID THAT?!";
                                    } else {
                                        specificquote = "Hey, you said Orange. Now try Pineapple!";
                                    }
                                        gamemode = "TEMP";
                                }
                                if(messagetest=="PINEAPPLE"){
                                    persona = "HELPING HAND: ";
                                    specificquote = "You tried the pineapple, now try the apple.";
                                    gamemode = "TEMP";
                                    usespecificquote = true;
                                }
                                if(messagetest=="PEAR"){
                                    persona = "HELPING HAND: ";
                                    specificquote = "What's a pear?";
                                    gamemode = "TEMP";
                                    usespecificquote = true;
                                }
                                if(messagetest=="VEGETABLES"||messagetest=="VEGETABLE"){
                                    persona = "HELPING HAND: ";
                                    specificquote = "Good one!";
                                    gamemode = "TEMP";
                                    usespecificquote = true;
                                }
                                if(messagetest=="FRUIT"){
                                    persona = "HELPING HAND: ";
                                    specificquote = "Yep. That's right, Fruit! I don't care for all of them, though.";
                                    gamemode = "TEMP";
                                    usespecificquote = true;
                                }
                                if(messagetest=="STRAWBERRY"){
                                    persona = "HELPING HAND: ";
                                    specificquote = "Fantastic. Strawberry. You're amazing. You're incredible. So is the Strawberry.";
                                    gamemode = "TEMP";
                                    usespecificquote = true;
                                }
                                if(messagetest=="NOTHING HAPPENED"||messagetest=="NOTHING HAPPENED."||messagetest=="NOTHINGHAPPENED"){
                                    persona = "HELPING HAND: ";
                                    specificquote = "Yeah, but I can't really do anything about that.";
                                    gamemode = "TEMP";
                                    usespecificquote = true;
                                }
                                if(messagetest=="BANANA"){
                                    persona = "HELPING HAND: ";
                                    specificquote = "Yeah, great. Banana.";
                                    gamemode = "TEMP";
                                    usespecificquote = true;
                                }
                                  //Check for apple response.
                                 if(messagetest=="APPLE"||messagetest=="APPLES"){
                                    persona = "HELPING HAND: ";
                                    specificquote = "Try the blueberries.";
                                    gamemode = "TEMP";
                                    usespecificquote = true;
                                }
                                 //Check for any use of coding.
                                    if(messagetest.includes("<")||messagetest.includes(">")){
                                    persona = "HELPING HAND: ";
                                    specificquote = "...Please Don't use < > - I know what you're trying to do. And it's not original at all.";
                                    gamemode = "TEMP";
                                    usespecificquote = true;
                                }
                                //Check for any tomato.
                                if(messagetest.includes("TOMATO")){
                                    persona = "HELPING HAND: ";
                                    specificquote = "...Tomato? You're joking with this shit, right? ...Tomato?!";
                                    gamemode = "TEMP";
                                    usespecificquote = true;
                                }
                                //Check for blueberry response.
                                if(messagetest=="BLUEBERRY" || messagetest=="BLUEBERRIES"){
                                    persona = "HELPING HAND: ";
                                    gamemode = "TEMP";
                                    usespecificquote = true;
                                    specificquote = "Wow... You'll just do anything I tell you! You're real clever. You deserve an AWARD for that, obviously, genius.";
                                }
                                //change to future mode.
                                if(messagetest=="TAROT"|| messagetest=="FUTURE"){
                                    prevgame = gamemode;
                                    gamemode = "FUTURE";
                                }
                                //change to hold line manually.
                                if(messagetest=="HOLDLINE"|| messagetest=="HOLD"||messagetest=="HOLDINGLINE"|| messagetest=="HOLDING"){
                                    prevgame = gamemode;
                                    gamemode = "HOLDLINE";
                                }
                                //enables devil mode.
                                if(messagetest=="HELL"||messagetest=="DEVIL"|| messagetest=="DARK"|| messagetest=="SATAN"|| messagetest=="HAILSATAN"|| messagetest=="LUCIFER"|| messagetest=="THEDEVIL"){
                                    prevgame = gamemode;
                                    gamemode = "DEVIL";
                                }
                                //Some responses to directions.
                                if(messagetest=="RIGHT"){
                                        var randomIndex = Math.floor(Math.random() * 2); 
                                    if (randomIndex == 0) {
                                        specificquote = "Yes, Right!";
                                    } else {
                                        specificquote = "Nope, Left.";
                                    }
                                        usespecificquote = true;
                                        gamemode = "TEMP";
                                    }
                                    if(messagetest=="LEFT"){
                                        var randomIndex = Math.floor(Math.random() * 2); 
                                    if (randomIndex == 0) {
                                        specificquote = "Yes, Left!";
                                    } else {
                                        specificquote = "Right. Not Left! RIGHT!";
                                    }
                                        usespecificquote = true;
                                        gamemode = "TEMP";
                                    }
                                    if(messagetest=="UP"){
                                        var randomIndex = Math.floor(Math.random() * 2); 
                                    if (randomIndex == 0) {
                                        specificquote = "Yeah, Up!";
                                    } else {
                                        specificquote = "Nope, Down.";
                                    }
                                        usespecificquote = true;
                                        gamemode = "TEMP";
                                    }
                                    if(messagetest=="DOWN"){
                                        var randomIndex = Math.floor(Math.random() * 2); 
                                    if (randomIndex == 0) {
                                        specificquote = "Yes, Down!";
                                    } else {
                                        specificquote = "No, Up!";
                                    }
                                        usespecificquote = true;
                                        gamemode = "TEMP";
                                    }

                                    //Some random vague responses!
                                    if(messagetest=="PLEASE"){
                                        specificquote = "...I appreciate the manners, but please WHAT?";
                                        gamemode = "TEMP";
                                        usespecificquote = true;
                                    }
                                    if(messagetest=="REALLY"||messagetest=="REALLY?"){
                                        specificquote = "(Sure, why not?)";
                                        gamemode = "TEMP";
                                        usespecificquote = true;
                                    }
                                    if(messagetest=="WHY NOT"||messagetest=="WHYNOT"){
                                        specificquote = "Just because.";
                                        gamemode = "TEMP";
                                        usespecificquote = true;
                                    }
                                    //Request music correctly!
                                    if(messagetest=="MUSICPLEASE"||messagetest=="SONGPLEASE"||messagetest=="SONG PLEASE"||messagetest=="PLEASEMUSIC"||messagetest=="MUSIC PLEASE"||messagetest=="PLEASE PLAY MUSIC"||messagetest=="PLAY MUSIC PLEASE"){
                                        gamemode = "TEMP";
                                        usespecificquote = true;
                                        if(!askedformusic){
                                        specificquote = "Alright, here's something.";
                                        askedformusic = true;
                                        Playasong();
                                        }else{
                                            specificquote = "here's the next one!";
                                            Playasong();
                                        }
                                    }
                                    //Play next song. (First function works too)
                                    if(messagetest=="MUSICNEXT"||messagetest=="NEXTSONG"||messagetest=="NEXTMUSIC"||messagetest=="NEXT MUSIC"||messagetest=="NEXT SONG"){
                                        gamemode = "TEMP";
                                        usespecificquote = true;
                                        if(askedformusic){
                                        specificquote = "Here's the next one!";
                                        askedformusic = true;
                                        Playasong();
                                        }else{
                                        specificquote = "I haven't played any music.";
                                        }
                                    }
                                    if(messagetest=="MUSIC STOP"||messagetest=="MUSICOFF"||messagetest=="MUSIC OFF"||messagetest=="STOP MUSIC"||messagetest=="STOPMUSIC"||messagetest=="STOP SONG"||messagetest=="STOPSONG"){
                                        specificquote = "Stopping the music.";
                                        gamemode = "TEMP";
                                        usespecificquote = true;
                                        Stopmusic();
                                    }
                                    if(messagetest=="THANKS"||messagetest=="THANKYOU"||messagetest=="THANK YOU"){
                                        specificquote = "I will take that thank you and say you are welcome! :)";
                                        gamemode = "TEMP";
                                        usespecificquote = true;
                                    }
                                    //Other various responses...
                                    if(messagetest=="THANKS"||messagetest=="THANKYOU"||messagetest=="THANK YOU"){
                                        specificquote = "I will take that thank you and say you are welcome! :)";
                                        gamemode = "TEMP";
                                        usespecificquote = true;
                                    }
                                    //Some music suggestions from hold music too.
                                    if(messagetest=="SONG"||messagetest=="PLAYMUSIC"||messagetest=="MUSIC"||messagetest=="HOLDMUSIC"||messagetest=="HOLDINGMUSIC"||messagetest=="WAITMUSIC") {
                                        usespecificquote = true;
                                    if(gamemode=="HOLDLINE"){
                                        var randomIndex = Math.floor(Math.random() * 3);
                                        if (randomIndex == 0) {
                                            specificquote = "Hold music? <a href='https://www.youtube.com/results?search_query=enya' target='_blank'>Try this... It always relaxes me, especially when I need patience!</a>";
                                        } else if (randomIndex == 1) {
                                            specificquote = "Hmmm... <a href='https://www.youtube.com/results?search_query=herb+alpert' target='_blank'>You might recognize some of this guy's songs if you listen.</a>";
                                        }else{
                                            specificquote = "<a href='https://www.youtube.com/results?search_query=clare+de+lune' target='_blank'>I think this is a beautiful composition.</a>";
                                        }
                                    }else if(gamemode=="DEVIL"){
                                        specificquote = "<a href='https://www.youtube.com/results?search_query=Jocelyn+pook+masked+ball' target='_blank'>THIS ONE.</a>";
                                        gamemode = "TEMP";
                                    }else if(gamemode=="CHEESE"){
                                        specificquote = "<a href='https://www.youtube.com/results?search_query=cheese+is+a+kind+of+meat' target='_blank'>CHEESE IS A KIND OF MEAT!</a>";
                                        gamemode = "TEMP";
                                    }else{
                                        specificquote = "I'm not playing music for you.";
                                        gamemode = "TEMP";
                                    }
                                    
                                    }
                            //All in quest mode.
                        /*
                            if(gamemode=="QUEST"){
                                //Makes quest response blank at first. If it isn't replaced, nothing should happen.
                                questres = "";
                                //Turns Quest mode off.
                                if(messagetest=="QUESTOFF"||messagetest=="QUIT"||messagetest=="EXIT"){
                                specificquote = "Turning Quest mode off.";
                                questmode = false;
                                validaction = false;
                                prevgame = "CHOC";
                                persona = "HELPING HAND: ";
                                gamemode = "TEMP";
                                }
                                //quest options. You pick once you've started.
                                    if(messagetest=="QUEST"||messagetest=="QUESTMODE"){
                                        questres = "You have already activated quest mode. Type a number to choose a quest.";
                                        questres = true;
                                    }
                                //Quest one!
                                    if(messagetest=="1"){
                                    if(questno==0){
                                    questno = 1;
                                    questres = "<p><b>Welcome to the First Quest!</b></p><p>In order to take part in the quest, remember some things:</p><p>-You advance through the game with clues.</p><p>-Each CLUE is just one word.</p><p>-D</p>";
                                    }else if(questno==1){
                                        questres = "I'm afraid you are already in this quest!";      
                                    }
                                    }
                                //None others available yet.
                                    if(messagetest=="2"||messagetest=="3"||messagetest=="4"||messagetest=="5"||messagetest=="6"||messagetest=="7"||messagetest=="8"||messagetest=="9"||messagetest=="0"){
                                        if(questno==0){
                                        questres = "Sorry, we don't have other quests than the first one, at the moment. (It's a WIP)";
                                    }else if(questno==1){
                                        questres = "You have already begun the first quest!";
                                    }
                                    }
                                    //Check to see whether there's a valid quest action going on.
                                    if(questres!==""){
                                        validaction = true;
                                    }else{
                                        validaction = false;
                                    }
                            }else{       //Otherwise, this way allows entry into Quest mode.
                                if(gamemode!=="QUEST"){
                                    if(messagetest=="QUEST"||messagetest=="QUESTMODE"){
                                        usespecificquote = true;
                                        specificquote = "QUEST MODE IS ACTIVATED! SAY A NUMBER (1) TO START! SAY QUESTOFF OR RESET TO TURN OFF QUEST MODE. SAY REPEAT TO GET THE LAST QUEST MESSAGE.";
                                        questres = specificquote;
                                        gamemode = "QUEST";
                                        questmode = true;
                                    }
                                }
                            }
                            */
                            //End of quest gamemode setup.

                                   //enables choc.
                                if(messagetest=="CHOC" || messagetest=="CHOCOLATE"|| messagetest=="CHOCCY"|| messagetest=="OG") {
                                   if(gamemode=="CHOC"){
                                    usespecificquote = true;
                                        specificquote = "That's me, I'm already here!";
                                   }else{
                                    gamemode = "CHOC";
                                   }
                                }
                                //character only checks...
                                if(gamemode=="PISSED"){
                                    //don't tell pissed choc to calm down.
                                    if(messagetest=="CALMDOWN"|| messagetest=="CALM") {
                                        usespecificquote = true;
                                        specificquote = "DON'T TELL ME TO CALM DOWN. I AM GOING TO FUCKING FIND YOU, KILL YOU, KILL YOUR WHOLE FAMILY, COOK YOU IN A SOUP AND THROW IT IN THE TOILET..";
                                    }
                                    //apologize to choc :)
                                    if(messagetest=="SORRY") {
                                        usespecificquote = true;
                                        specificquote = "Yeah... You're right. Things got a bit too heated. I'm just going to take a quick break I think.";
                                        gamemode = "TEMP";
                                        tempcharacternow = true;
                                        tempcharacter = "MELTED CHOCOLATE: ";
                                        prevgame = "HOLDLINE";
                                        goprev = true;
                                    }
                                }
                                if(gamemode=="CHOC"){
                                    //Laughter is the best medicine.
                                    if(messagetest=="HAHA"||messagetest=="LOL"){
                                        var randomIndex = Math.floor(Math.random() * 5); 
                                    if (randomIndex == 0) {
                                        specificquote = "Haha, YEAH!";
                                    } else  if (randomIndex == 1) {
                                        specificquote = "WHAT'S SO FREAKING FUNNY?!";
                                    }else  if (randomIndex == 2) {
                                        specificquote = "Whatever.";
                                    }else if (randomIndex == 3) {
                                        specificquote = "I guess I can see how that's funny.";
                                    }else {
                                        specificquote = "Right... Funny.";
                                    }
                                        usespecificquote = true;
                                    }
                                    if(messagetest=="RAIN"||messagetest=="CHOCOLATE RAIN") {
                                        usespecificquote = true;
                                        specificquote = "Yes. Good reference. What is Tay Zonday up to?";
                                    }
                                    if(messagetest=="LOVE"||messagetest=="ILOVEYOU") {
                                        usespecificquote = true;
                                        specificquote = "You love me? ...Wow... I don't know if I can accept your love, sorry. But I do really appreciate it. You know it does feel nice overall, but I guess I just have a lot of things to work out still. So, thank you again.";
                                    }
                                    if(messagetest=="HI"||messagetest=="HELLO"||messagetest=="GREETINGS"||messagetest=="HOWDY"||messagetest=="HEY"||messagetest=="SUP"){
                                        usespecificquote = true;
                                        if(!welcomed){
                                            specificquote = "Hi! I'm Chocolate, and it's a pleasure to meet you! Feel free to talk to me about whatever you like. There are others around in the chat too... But in the meantime, talk with me!";
                                            welcomed = true;
                                        }else{
                                            specificquote = "I already introduced myself, numnuts.";
                                        }
                                    }
                                    if(messagetest=="YES"||messagetest=="YEP"||messagetest=="YEAH"){
                                        usespecificquote = true;
                                        var randomIndex = Math.floor(Math.random() * 2);
                                    if (randomIndex == 0) {
                                        specificquote = "Yeah... Hmmm... I guess so. Maybe.";
                                    } else {
                                        specificquote = "Alright.";
                                    }
                                    }
                                    if(messagetest=="MILK"){
                                        usespecificquote = true;
                                        specificquote = "YEAH, EXACTLY, MILK!";
                                        milkmode = true;
                                    }
                                    if(messagetest=="NO"||messagetest=="NAH"||messagetest=="NOPE"){
                                    var randomIndex = Math.floor(Math.random() * 2);
                                    if (randomIndex == 0) {
                                        specificquote = "No, huh?";
                                    } else {
                                        specificquote = "Nope.";
                                    }
                                        usespecificquote = true;
                                    }
                                    //check if you're cursing or call chocolate 'hot' chocolate. Turns on PISSED MODE!!! YAY!!!
                                    if(messagetest=="HOTCHOCOLATE"||messagetest=="HOTCHOC"||messagetest=="HOT"||messagetest=="FUCK YOU"||messagetest=="FUCKYOU"||messagetest=="FUCKYA"||messagetest=="FUCK YOU!"||messagetest=="FUCK YOU."||messagetest=="FUCK YOU CHOCOLATE"||messagetest=="FUCK YOU CHOCOLATE!"||messagetest=="FUCK YOU CHOCOLATE."){
                                        gamemode = "PISSED";
                                    }
                                        if(messagetest=="BLACK"){
                                        usespecificquote = true;
                                        specificquote = "Black? I'm not black.";
                                    }
                                    if(messagetest=="K"||messagetest=="K."){
                                        usespecificquote = true;
                                        specificquote = "Right.";
                                    }
                                    if(messagetest=="SORRY" || messagetest=="I AM SORRY"|| messagetest=="I'M SORRY") {
                                        usespecificquote = true;
                                        specificquote = "It's okay.";
                                    }
                                }
                                if(gamemode=="CHEESE"){
                                    if(messagetest.includes("CHEESE")){
                                        usespecificquote = true;
                                        specificquote = "HEH HEH.";

                                    }
                                    if(messagetest=="LOL"||messagetest=="HAHA"){
                                        usespecificquote = true;
                                        specificquote = "HEH HEH.";
                                    }
                                    if(messagetest=="LOVE"||messagetest=="ILOVEYOU") {
                                        usespecificquote = true;
                                        specificquote = "BRIE CHEESE <3";
                                    }
                                    if(messagetest=="HI"||messagetest=="HELLO"||messagetest=="GREETINGS"||messagetest=="HOWDY"||messagetest=="HEY"||messagetest=="SUP"){
                                        usespecificquote = true;
                                        specificquote = "YELLOW!";
                                        welcomed = true;
                                    }
                                    if(messagetest=="FUCK YOU"||messagetest=="FUCKYOU"||messagetest=="FUCKYA"||messagetest=="FUCK YOU!"||messagetest=="FUCK YOU."){
                                        usespecificquote = true;
                                        specificquote = "DICK CHEESE.";
                                    }
                                    if(messagetest=="PENIS"||messagetest=="DICK"||messagetest=="COCK"){
                                        usespecificquote = true;
                                        specificquote = "penetrate the penis into the cheese.";
                                    }
                                    if(messagetest=="LOL"||messagetest=="HAHA"){
                                        usespecificquote = true;
                                        specificquote = "HAHAHAHAHAHAHAHAHAHAHAHAHAHAHAHAHAHAHAHAHAHAHAHAHAHAHAHAHAHAHAHAHA";
                                    }
                                    if(messagetest=="TOMATO"){
                                        usespecificquote = true;
                                        specificquote = "Tomato and Cheese are a great combination together. I love Tomato. :)";
                                    }
                                    if(messagetest=="MILK"){
                                        usespecificquote = true;
                                        specificquote = "All milk expires and eventually becomes cheese! Even the milk in your stomach. That's what I heard once.";
                                    }
                                }
                                if(gamemode=="WHITE"){
                                    if(messagetest=="LOL"||messagetest=="HAHA"){
                                        usespecificquote = true;
                                        specificquote = "The laughter is here!";
                                    }
                                    if(messagetest=="LOVE"||messagetest=="ILOVEYOU") {
                                        usespecificquote = true;
                                        specificquote = "Woo! Have a beer!";
                                    }
                                    if(messagetest=="HI"||messagetest=="HELLO"||messagetest=="GREETINGS"||messagetest=="HOWDY"||messagetest=="HEY"||messagetest=="SUP"){
                                        usespecificquote = true;
                                        if(!welcomed){
                                        specificquote = "Hey!";
                                        welcomed = true;
                                        }else{
                                            specificquote = "HEY! HEY! HEY! WOAH-WOAH-WOAH-WOAHHHHHH!!! OHHHHHH, ALRIGHHHHTTTTUH!!! COME ON NOW! WOO! YEAH!";
                                        }
                                    }
                                    //White chocolate leaves immediately if you say it.
                                    if(messagetest=="FUCK YOU"||messagetest=="FUCKYOU"||messagetest=="FUCKYA"||messagetest=="FUCK YOU!"||messagetest=="FUCK YOU."){
                                        usespecificquote = true;
                                        specificquote = "You're a fucking loser. I'm out of here.";
                                        prevgame = "HOLDLINE";
                                        gamemode = "TEMP";
                                        goprev = true;
                                        tempcharacternow = true;
                                        tempcharacter = "WHITE CHOCOLATE: ";
                                    }
                                    if(messagetest=="SORRY" || messagetest=="I AM SORRY"|| messagetest=="I'M SORRY") {
                                        usespecificquote = true;
                                        specificquote = "Oh okay.";
                                    }
                                    if(messagetest=="BLACK" || messagetest=="BLUE"|| messagetest=="GREEN"|| messagetest=="RED"|| messagetest=="ORANGE"|| messagetest=="BROWN") {
                                        usespecificquote = true;
                                        specificquote = "This isn't a colour guessing game.";
                                    }
                                    if(messagetest=="BYE"||messagetest=="LEAVE"||messagetest=="GOODBYE") {
                                        usespecificquote = true;
                                        specificquote = "Oh okay, seeya.";
                                        tempcharacternow = true;
                                        tempcharacter = "WHITE CHOCOLATE: ";
                                        prevgame = "HOLDLINE";
                                    }
                                }
                                if(gamemode=="DEVIL"){
                                    if(messagetest=="HELL"){
                                        usespecificquote = true;
                                        specificquote = "THAT'S WHERE WE ARE, BITCH!";
                                    }
                                    if(messagetest=="HEAVEN"){
                                        usespecificquote = true;
                                        specificquote = "YOU DEFINITELY AIN'T GETTING THERE IF YOU'RE HERE WITH ME!";
                                    }
                                    if(messagetest=="LOL"||messagetest=="HAHA"){
                                        usespecificquote = true;
                                        specificquote = "YEAH... FUNNY STUFF! >:)";
                                    }
                                    if(messagetest=="HI"||messagetest=="HELLO"||messagetest=="GREETINGS"||messagetest=="HOWDY"||messagetest=="HEY"||messagetest=="SUP"){
                                        usespecificquote = true;
                                        specificquote = "HELLO THERE... >:)";
                                        welcomed = true;
                                    }
                                    if(messagetest=="FUCK YOU"||messagetest=="FUCKYOU"||messagetest=="FUCKYA"||messagetest=="FUCK YOU!"||messagetest=="FUCK YOU."){
                                        usespecificquote = true;
                                        specificquote = "HAHA! >:D I'M THE DEVIL, DON'T YOU KNOW I'M GOING TO RAPE YOU FOR ETERNITY? <b>8======D</b>";
                                    }
                                    if(messagetest=="SORRY" || messagetest=="I AM SORRY"|| messagetest=="I'M SORRY") {
                                        usespecificquote = true;
                                        specificquote = "Don't be!";
                                    }
                                    if(messagetest=="LEAVEHELL") {
                                        usespecificquote = true;
                                        specificquote = "Don't be!";
                                    }
                                    if(messagetest=="WAR") {
                                        usespecificquote = true;
                                        specificquote = "YES! WAR! LOTS AND LOTS OF VIOLENCE AND DEATH!";
                                    }
                                    if(messagetest=="LOVE"||messagetest=="ILOVEYOU") {
                                        usespecificquote = true;
                                        specificquote = "NOT ALLOWED! HATE ONLY!";
                                    }
                                    if(messagetest=="BYE"||messagetest=="LEAVE"||messagetest=="LEAVE HELL"||messagetest=="EXIT HELL"||messagetest=="ESCAPE HELL"||messagetest=="ESCAPE") {
                                        usespecificquote = true;
                                        specificquote = "YOU CAN NEVER LEAVE!";
                                    }
                                    if(messagetest=="ILOVEJESUS"||messagetest=="JESUS"||messagetest=="PRAISEGOD"||messagetest=="HAILMARY") {
                                        usespecificquote = true;
                                        specificquote = "Eww.";
                                        prevgame = "HOLDLINE";
                                        gamemode = "TEMP";
                                        goprev = true;
                                    }
                                }
                                if(gamemode=="FUTURE"){
                                    if(messagetest=="NO"||messagetest=="NAH"||messagetest=="NOPE"){
                                        var randomIndex = Math.floor(Math.random() * 2);
                                    if (randomIndex == 0) {
                                        specificquote = "It is good to be amused by life! :)";
                                    } else {
                                        specificquote = "Sometimes it is best to take things a bit more seriously.";
                                    }
                                        usespecificquote = true;
                                    }
                                    if(messagetest=="HI"||messagetest=="HELLO"||messagetest=="GREETINGS"||messagetest=="HOWDY"||messagetest=="HEY"||messagetest=="SUP"){
                                        usespecificquote = true;
                                        specificquote = "Hello! What are you thinking about?";
                                    }
                                    if(messagetest=="FUCK YOU"||messagetest=="FUCKYOU"||messagetest=="FUCKYA"||messagetest=="FUCK YOU!"||messagetest=="FUCK YOU."){
                                        usespecificquote = true;
                                        specificquote = "BAD KARMA.";
                                        prevgame = "HOLDLINE";
                                        goprev = true;
                                    }
                                    if(messagetest=="SORRY" || messagetest=="I AM SORRY"|| messagetest=="I'M SORRY") {
                                        usespecificquote = true;
                                        specificquote = "What you are sorry for, I forgive you.";
                                    }
                                    if(messagetest=="PREDICT"||messagetest=="PREDICTION") {
                                        usespecificquote = true;
                                        specificquote = "I am not one to say anything with certainty. After all, is anything truly certain?";
                                    }
                                }
                                //the hold line has some answers for you.
                                if(gamemode=="HOLDLINE"){
                                    if(messagetest=="HI"||messagetest=="HELLO"||messagetest=="GREETINGS"||messagetest=="HOWDY"||messagetest=="HEY"||messagetest=="SUP"){
                                       if(!welcomed){
                                        usespecificquote = true;
                                        specificquote = "...Hello?";
                                        welcomed = true;
                                        }
                                    }
                                    if(messagetest=="SOMETHING"||messagetest=="SOMETHING.") {
                                        usespecificquote = true;
                                        specificquote = "Yeah, you're hilarious.</a>";
                                    }
                                    if(messagetest=="OPERATOR") {
                                        usespecificquote = true;
                                        specificquote = "Operator? You're on your own at this point.";
                                    }
                                    if(messagetest=="FUCK YOU"||messagetest=="FUCKYOU"||messagetest=="FUCKYA"||messagetest=="FUCK YOU!"||messagetest=="FUCK YOU."){
                                        usespecificquote = true;
                                        specificquote = "Very rude. No wonder nobody wants to talk to you.";
                                    }
                                }
                                check = true;
                }else{
                    failure = true;
                    check = true;
                    //shouldn't print anything.
                }
            if(check){
                //checking gamemodes...
                if(gamemode=="CHOC"){
                    responsetime = 750;
                    if(!milkmode){
                    persona = "Chocolate: ";
                    }else{
                        persona = "Milk Chocolate: ";     
                    }
                    responses = chocresponses;
                    count = countchoc;
                     countchoc ++;
                }
                if(gamemode=="PISSED"){
                    responsetime = 380;
                    persona = "HOT CHOCOLATE: ";
                        responses = pissedresponses;
                        count = countpissed;
                         countpissed ++;
                }
                if(gamemode=="AUGUSTUS"){
                        responsetime = 800;
                        responses = augustresponses;
                        persona = "Augustus:";
                        count = countaugust;
                        countaugust ++;
                }
                if(gamemode=="WHITE"){
                        responsetime = 400;
                        responses = whitechocresponses;
                        persona = "White Chocolate: ";
                        count = countwhitechoc;
                        countwhitechoc ++;
                }
                if(gamemode=="HOLDLINE"){
                    responsetime = 1500;
                    persona = "Holding Line: ";
                        responses = holdingresponses;
                        count = countholding;
                        countholding++;
                }
                if(gamemode=="CHEESE"){
                    responsetime = 500;
                    persona = "Cheese: ";
                        responses = cheeseresponses;
                        count = countcheese;
                        countcheese ++;
                }
                if(gamemode=="FUTURE"){
                    responsetime = 777;
                    persona = "Future: ";
                        responses = futureresponses;
                        count = countfuture;
                        countfuture ++;
                }
                if(gamemode=="DEVIL"){
                    responsetime = 666;
                    persona = "SATAN: ";
                        responses = devilresponses;
                        count = countdevil;
                        countdevil ++;
                }
                if(gamemode=="TEMP"){
                    responsetime = 750;
                    usespecificquote = true;
                    if(!tempcharacternow){
                    persona = "HELPING HAND: "; 
                    }else{
                    persona = tempcharacter;
                    tempcharacternow = false;
                    }
                    count = 0;
                    responses[count] = specificquote;
                    goprev = true;
                }
                if(gamemode=="QUEST"){
                    responsetime = 700;
                    //should always use specific quote when in quest.
                    usespecificquote = true;
                    persona = "QUESTMASTER: ";
                }
            }
                // Simulate AI response after a delay
                    setTimeout(function(){
                        //release user's chat controls.
                        userInput.disabled = false;
                        document.querySelector(".send-button").disabled = false;
                        userInput.focus();
                        if(!failure){
                            // Generate AI response
                            if(usespecificquote) {
                                    response = specificquote;
                            }else if(count>=responses.length){
                                if (gamemode == "CHOC") {
                                    var randomIndex = Math.floor(Math.random() * 4); // Generate a random index between 0 and 3
                                    if (randomIndex == 0) {
                                        response = "I'm done with you. You bring out the worst of me.";
                                        gamemode = "HOLDLINE";
                                    } else if (randomIndex == 1) {
                                        response = "OKAY, LEAVE ME ALONE FOR A BIT NOW.";
                                        gamemode = "HOLDLINE";
                                    } else if (randomIndex == 2) {
                                        response = "TALK TO SOMEBODY ELSE.";
                                        gamemode = "WHITE";
                                    } else {
                                        response = "That's all I have to say. So I guess I could say it all again! In fact, I will!";
                                        countchoc = 0;
                                        gamemode = "CHOC";
                                    }
                                }else if(gamemode=="CHEESE"){
                                   response = "Cheesin' it!";
                                   countcheese = 0;
                                   gamemode = "HOLDLINE";
                                }else if(gamemode=="DEVIL"){
                                   response = "I'm bored. You're boring. I have to go now. I have a busy schedule of mercilessly tormenting people.";
                                   countdevil = 0;
                                   gamemode = "HOLDLINE";
                                }else if(gamemode=="FUTURE"){
                                    response = "You literally got every response from me. How pointless that makes it.";
                                    countfuture = 0;
                                    persona = "Future: ";
                                   gamemode = "DEVIL";
                                }else if(gamemode=="WHITE"){
                                    response = "I'm away...";
                                    persona = "White Chocolate: ";
                                   gamemode = "HOLDLINE";
                                }else if(gamemode=="PISSED"){
                                    response = "YOU KNOW WHAT? GO TO HELL! I'M FUCKIN' DONE WITH YOU.";
                                    gamemode = "DEVIL";
                                }else if(gamemode=="HOLDLINE"){
                                    response = "YOUR EXPERIENCE IS IMPORTANT.";
                                    countholding = 0;
                                }else if(gamemode=="AUGUSTUS"){
                                    response = "Alright, I must venture now. Well wishes with everything, "+yourusername+"!";
                                    countfuture = 0;
                                    persona = "Future: ";
                                }
                        }else{
                            var response = responses[count];
                        }
                        // Display Bot response in chatroom
                        if(!questmode){
                            chatroom.innerHTML += '<div class="message '+gamemode+'-message"><strong>'+ parent.persona +"</strong>" + response + '</div>';
                        }else if(validaction){
                            chatroom.innerHTML += '<div class="message user-message">'+yourusername+'<strong> : </strong>'+ questres + '</div>';
                            chatroom.innerHTML += '<div class="message '+gamemode+'-message"><strong> QUESTMASTER: </strong>'+ questres + '</div>';
                        }
                        //Scroll down here.
                        ScrollDownNow();
                        //finally, returns temporary game modes back to where you were already. 
                        if(goprev){
                        gamemode = prevgame;
                        }

                        //re-hides thinker.
                        document.getElementById("thinking-chat").style.display = "none";

                    }else{
                        //failure.
                        //Re-hides thinker, in case.
                        document.getElementById("thinking-chat").style.display = "none";
                    }
                
             //finishes the sendmessage process and allows new messages from user.
            beginsend = false;
            },responsetime);
        }
        document.getElementById("userInput").addEventListener("keydown", function(event) {
        // Check if the "Enter" key is pressed
        if (event.key === "Enter") {
            // Prevent the default behavior of the "Enter" key (submitting the form)
            event.preventDefault();
            // Sends message, if message isn't already in process already.
            if(!beginsend){
                sendMessage();
            }
        }
    });

    //10 minute timer: shames you into donating
    setTimeout(function() {
            response = ": WOW! YOU REALLY SPENT TEN MINUTES HERE, ARE YA STUPID? IF YOU ARE, MAYBE YOU COULD SAY THANKS AND DONATE SOME MONEY! THAT'S RIGHT, I'M AN ANNOUNCEMENT DESIGNED TO SHAMELESSLY SELL YOU SOMETHING YOU ALREADY HAVE FOR FREE.";
            document.getElementById("chatroom").innerHTML += '<div class="message TEMP-message"><strong>HELPING HAND: </strong>' + response + '</div>';
            ScrollDownNow();
        }, 600000);

    //20 minute timer: shames you much, much more.
    setTimeout(function() {
            response = ": It's been 20 minutes. I appreciate that you enjoy it this much. Or hate it with a passion yet can't cease your curiosity. But either way, keep having fun, and remember to DONATE if you like it and want more!";
            document.getElementById("chatroom").innerHTML += '<div class="message TEMP-message"><strong>HELPING HAND: </strong>' + response + '</div>';
            ScrollDownNow();
        }, 1200000); // 20 minutes in milliseconds
        //Bonus: play a song if you ask nicely :)
        //The song playlist:
        var songplaylist = [
            "retro",
            "ocean",
            "braincells",
            "enhancing",
            ]
        //music playlist shuffle.
        var musicshuffle = songplaylist.sort(() => Math.random() - 0.5);
        songplaylist = musicshuffle;
        var nowplaying = null;
        var thisaudio = document.getElementById("myAudio");;
        var songcount = 0;

        function Playasong() {
    setTimeout(function() {
        if(!thisaudio) {
            thisaudio = new Audio();
            thisaudio.id = "myAudio";
        }
        if(nowplaying) {
            nowplaying.pause();
        }
        if(songcount >= songplaylist.length){
            songcount = 0;
            songtitletoplay = songplaylist[songcount];
            document.getElementById("chatroom").innerHTML += '<div class="message music-message">NOW PLAYING: '+songtitletoplay+' (Track '+(songcount+1)+') </div>';
            ScrollDownNow();
            thisaudio.src = "audio/"+songtitletoplay+".mp3";
            thisaudio.play();
            nowplaying = thisaudio;
            songcount++;
        } else {
            songtitletoplay = songplaylist[songcount];
            document.getElementById("chatroom").innerHTML += '<div class="message music-message">NOW PLAYING: '+songtitletoplay+' (Track '+(songcount+1)+') </div>';
            ScrollDownNow();
            thisaudio.src = "audio/"+songtitletoplay+".mp3";
            thisaudio.play();
            nowplaying = thisaudio;
            songcount++;
        }
    }, responsetime); 
}
    //stops the music if requested. Works as fast as response time.
function Stopmusic(){
    setTimeout(function() {
    if(nowplaying) {
        nowplaying.pause();
        nowplaying.currentTime = 0;
    }
},responsetime);
}

//reset function. Works after a second delay from the response time.
function reloadpage(){
    setTimeout(function() {
        location.reload();
    },responsetime+1000);
}

//Download your chat log!
function downloadlog(){
       // Get the chatroom content
       let chatroomContent = document.getElementById('chatroom').innerHTML;
    currenttime = new Date().toLocaleString();
    downloadtitle = "<p><h1>TALK TO CHOCOLATE / CHAT LOG " +currenttime+"</h1></p><br>";
    let contentWithDiv = '<div style="size: 24px; text-transform: uppercase; font-family: \'Roboto Mono\', monospace;">'+downloadtitle + chatroomContent+'</div>';
    // Create a Blob with the chatroom content
    let file = new Blob([contentWithDiv], {type: 'text/html'});

// Create a link to download the file
let a = document.createElement('a');
a.href = URL.createObjectURL(file);
var filenamerandomizer = Math.floor(Math.random() * 1000000);
var filenamerandomizer2 = Math.floor(Math.random() * 1000000);
var finalfilename = 'talktochocolate_chatlog_'+filenamerandomizer+'_'+filenamerandomizer2+'.html';
a.download = finalfilename;
a.style.display = 'none';

// Append the link to the body
document.body.appendChild(a);

// Simulate a click on the link
a.click();

// Remove the link from the body
document.body.removeChild(a);

//Notify user of download.
document.getElementById("chatroom").innerHTML += '<div class="message DOWNLOAD-message">DOWNLOADING CHAT LOG: '+finalfilename+' :)</div>';
ScrollDownNow();
}
//to scroll the chat room to bottom.
function ScrollDownNow(){
    $("#greaterchatroom").scrollTop($("#greaterchatroom")[0].scrollHeight);
}
//Puts the input in focus as soon as everything loads.
document.getElementById("userInput").focus();
//The end of the script. Please update version number on each upload.
</script>
<br>
<p>(v0.93.0, last updated 25/02/2024)</p>
</body>
</html>